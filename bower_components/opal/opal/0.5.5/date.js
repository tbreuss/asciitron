/* Generated by Opal 0.5.5 */
(function($opal) {
  var self = $opal.top, $scope = $opal, nil = $opal.nil, $breaker = $opal.breaker, $slice = $opal.slice, $klass = $opal.klass, native_date = nil;
  $opal.add_stubs(['$allocate', '$wrap', '$new', '$clone', '$to_json', '$to_s']);
  native_date = Date;
  return (function($base, $super) {
    function $Date(){};
    var self = $Date = $klass($base, $super, 'Date', $Date);

    var def = $Date._proto, $scope = $Date._scope;
    $opal.defs(self, '$wrap', function(native$) {
      var self = this, instance = nil;
      instance = self.$allocate();
      instance._date = native$;
      return instance;
    });

    $opal.defs(self, '$parse', function(string) {
      var self = this;
      return self.$wrap(native_date.parse(string));
    });

    $opal.defs(self, '$today', function() {
      var self = this;
      
      var date = self.$new();
      date._date = new native_date();
      return date;
    ;
    });

    def.$initialize = function(year, month, day) {
      var self = this;
      return self._date = new native_date(year, month - 1, day);
    };

    def['$-'] = function(date) {
      var self = this;
      return Math.round((self._date - date._date) / (1000 * 60 * 60 * 24));
    };

    def['$<'] = function(other) {
      var self = this;
      
      var a = self._date, b = other._date;
      a.setHours(0, 0, 0, 0);
      b.setHours(0, 0, 0, 0);
      return a < b;
    ;
    };

    def['$<='] = function(other) {
      var self = this;
      
      var a = self._date, b = other._date;
      a.setHours(0, 0, 0, 0);
      b.setHours(0, 0, 0, 0);
      return a <= b;
    ;
    };

    def['$>'] = function(other) {
      var self = this;
      
      var a = self._date, b = other._date;
      a.setHours(0, 0, 0, 0);
      b.setHours(0, 0, 0, 0);
      return a > b;
    ;
    };

    def['$>='] = function(other) {
      var self = this;
      
      var a = self._date, b = other._date;
      a.setHours(0, 0, 0, 0);
      b.setHours(0, 0, 0, 0);
      return a >= b;
    ;
    };

    def['$=='] = function(other) {
      var self = this;
      
      var a = self._date, b = other._date;
      a.setHours(0, 0, 0, 0);
      b.setHours(0, 0, 0, 0);
      return (a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth() && a.getDate() === b.getDate());
    ;
    };

    def.$clone = function() {
      var self = this;
      return $scope.Date.$wrap(new native_date(self._date.getTime()));
    };

    def.$day = function() {
      var self = this;
      return self._date.getDate();
    };

    def.$month = function() {
      var self = this;
      return self._date.getMonth() + 1;
    };

    def.$next = function() {
      var self = this, res = nil;
      res = self.$clone();
      res._date.setDate(self._date.getDate() + 1);
      return res;
    };

    def.$next_month = function() {
      var self = this, res = nil;
      res = self.$clone();
      res._date.add({months: 1});
      return res;
    };

    def.$prev = function() {
      var self = this, res = nil;
      res = self.$clone();
      res._date.setDate(self._date.getDate() - 1);
      return res;
    };

    def.$prev_month = function() {
      var self = this, res = nil;
      res = self.$clone();
      res._date.add({months: -1});
      return res;
    };

    def.$strftime = function(format) {
      var self = this;
      if (format == null) {
        format = ""
      }
      return self._date.$strftime(format);
    };

    def.$to_s = function() {
      var self = this;
      
      var date = self._date;
      return date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();
    ;
    };

    def.$to_json = function() {
      var self = this;
      return self.$to_s().$to_json();
    };

    def.$as_json = function() {
      var self = this;
      return self.$to_s();
    };

    def.$wday = function() {
      var self = this;
      return self._date.getDay();
    };

    return (def.$year = function() {
      var self = this;
      return self._date.getFullYear();
    }, nil);
  })(self, null);
})(Opal);

//@ sourceMappingURL=/__opal_source_maps__/date.js.map
;
